<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <style>
    body {
      font-family: sans-serif;
      margin: 16px;
      width: 240px;
    }
    label {
      display: block;
      margin-top: 8px;
    }
    input {
      width: 100%;
    }
  </style>
</head>
<body>
  <label for="mode">Mode:</label>
  <select id="mode">
    <option value="create">Create New Grid</option>
    <option value="realign">Re-align Selected Grid</option>
  </select>

  <div id="create-options">
    <label for="columns">Columns:</label>
    <input type="number" id="columns" value="5" min="1"/>

    <label for="rows">Rows:</label>
    <input type="number" id="rows" value="10" min="1"/>
  </div>

  <button id="run">Run</button>

  <script>
    const modeSelect = document.getElementById('mode');
    const createOptions = document.getElementById('create-options');

    modeSelect.addEventListener('change', () => {
      if (modeSelect.value === 'create') {
        createOptions.style.display = 'block';
      } else {
        createOptions.style.display = 'none';
      }
    });

    document.getElementById('run').addEventListener('click', () => {
      const mode = modeSelect.value;
      const columns = parseInt(document.getElementById('columns').value, 10);
      const rows = parseInt(document.getElementById('rows').value, 10);
      parent.postMessage({ pluginMessage: { mode, columns, rows } }, '*');
    });
  </script>
</body>
</html>